## Курсовой проект по Django REST framework "Сервис Atomic Habits"

## Опиаание проекта
В проекте реализована бэкенд-часть SPA веб-приложения для напоминания о выполнении привычек с помощью трекера в телеграмме.
Телеграмм бот каждый раз будет присылать напоминание о выполнении привычки в определенное время, 
созданное пользователем. Программа помогает людям не забывать выполнять привычки, которые делают их жизнь лучше.

## Перед использованием проекта:
- установить PostgreSQL на ПК и предварительно настроить БД
- установить БД Redis командой: sudo apt install redis
- создать файл .evn по образцу evn.sample для передачи личных данных в Django настройки.
- установить и сохранить в виртуальном окружении следующие пакеты:
django
django-rest-framework
celery
django_celery_beat
django_cors_headers
django-rest-framework-simplejwt
drf_yasg
psycopg2-binary
pyTelegramBotAPI
python-dotenv
python-telegram-bot
redis
coverage

## Создать суперпользователя
Ввести команду: python manage.py csu

## Создать пользователей 
Ввести команду: python manage.py c_user и заполнить данные в терминале

## Создать базу данных 
В файле .env введите свои данные. Далее в терминале введите: psql -U (имя пользователя ) -d (имя основной базы) 
и командой create database (имя вашей базы); создайте базу данных.

## Миграции
Создайте и примените миграции базы данных командами:  python manage.py makemigrations и python manage.py migrate.

## Ввести свой токен для телеграмм бота и id для чата в .env.
Токен для телеграмм бота можно получить с помощью главного бота по ссылке: «https://t.me/BotFather».
1) Начните с ним диалог и выберите команду создания нового бота
2) BotFather предложит ввести имя вашего бота:здесь нужно указать видимое имя бота, т. е. то, 
3) которое отображается пользователям. Например, NameHabbitBot.
4) После этого BotFather спросит юзернейм вашего бота. десь бота нужно назвать уникально — это тот уникальный идентификатор, 
по которому бота можно будет найти. Также важно, чтобы имя заканчивалось на _bot.
5) Если имя подходит под все правила, BotFather предоставит токен и полезные ссылки для использования бота:
Токен будет использован ботом для обращения к API Telegram-сервисов, поэтому его необходимо сразу сохранить и не распространять.
Для получения Chat id нужно найти в телеграмме бота под названием @getmyid_bot и в диалоге с ним нажать start/

## Запустить периодическую задачу 
В разных терминалах командной строки ввести следующие команды:
1) redis-server
2) python -m celery -A config worker -l INFO
3) celery -A config beat -l info -s django

## Запуск программы
В четвертом терминале ввести команду: python manage.py runserver 

## Тестирование кода программы с использованием модуля unittest
Создать в приложениях проекта файлы tests.py с тестами DRF с использованием unittest
Для запуска тестов введите команду: python manage.py test
Для подсчета покрытия тестами используйте специальный пакет coverage, для установки введите команду: pip install coverage
После установки запустите подсчет покрытия и выведите отчет командами:
coverage run --source='.' manage.py test
coverage report
Проект  должен быть покрыт тестами как минимум на 80%